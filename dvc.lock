schema: '2.0'
stages:
  download_ord_close:
    cmd: python src/download_bbg_daily.py data/raw/adr_info.csv 
      data/raw/ordinary/ord_PX_LAST_adjust_none.csv --tickers_columns=id 
      --include_suffix --field=PX_LAST
    deps:
    - path: data/raw/adr_info.csv
      hash: md5
      md5: ada6c7be10af41c13259fba16e2871b7
      size: 9873
    - path: src/download_bbg_daily.py
      hash: md5
      md5: f2284d47f57e603dd007bd5220f0befd
      size: 2751
    params:
      params.yaml:
        end_date: '2025-12-16'
        start_date: '2018-05-01'
    outs:
    - path: data/raw/ordinary/ord_PX_LAST_adjust_none.csv
      hash: md5
      md5: 18c0a58b2e1bbbfa46564399d5b46cb0
      size: 690916
  adj_download_ord_close:
    cmd: python src/download_bbg_daily.py data/raw/adr_info.csv 
      data/raw/ordinary/ord_PX_LAST_adjust_all.csv --tickers_columns=id 
      --include_suffix --adjust=all --field=PX_LAST
    deps:
    - path: data/raw/adr_info.csv
      hash: md5
      md5: ada6c7be10af41c13259fba16e2871b7
      size: 9873
    - path: src/download_bbg_daily.py
      hash: md5
      md5: f2284d47f57e603dd007bd5220f0befd
      size: 2751
    params:
      params.yaml:
        end_date: '2025-12-16'
        start_date: '2018-05-01'
    outs:
    - path: data/raw/ordinary/ord_PX_LAST_adjust_all.csv
      hash: md5
      md5: 635c88414930fbd16d708dec4904a4f0
      size: 807821
  convert_ord_currency_close:
    cmd: python -m src.closing_domestic_prices
    deps:
    - path: data/raw/adr_info.csv
      hash: md5
      md5: ada6c7be10af41c13259fba16e2871b7
      size: 9873
    - path: data/raw/adrs/share_reclass.csv
      hash: md5
      md5: 5fab0660d954290fae62234bf6bcfe8d
      size: 761
    - path: data/raw/all_splits.csv
      hash: md5
      md5: e271a937d3806c714d44cea94a51e797
      size: 15412
    - path: data/raw/currencies/minute_bars/AUDUSD_full_1min.txt
      hash: md5
      md5: 5d368b2b387fc7a2ec6bee9c9137b2fa
      size: 319071844
    - path: data/raw/currencies/minute_bars/EURUSD_full_1min.txt
      hash: md5
      md5: e96553658e4514bc6ac0160528b64f3f
      size: 320135929
    - path: data/raw/currencies/minute_bars/GBPUSD_full_1min.txt
      hash: md5
      md5: dca33902789f603b15aa8471774c736b
      size: 319715409
    - path: data/raw/currencies/minute_bars/JPYUSD_full_1min.txt
      hash: md5
      md5: 6613d2c5a8f6f3693ec4097679f35444
      size: 620495691
    - path: data/raw/ordinary/ord_PX_LAST_adjust_all.csv
      hash: md5
      md5: 635c88414930fbd16d708dec4904a4f0
      size: 807821
    - path: data/raw/ordinary/ord_PX_LAST_adjust_none.csv
      hash: md5
      md5: 18c0a58b2e1bbbfa46564399d5b46cb0
      size: 690916
    - path: src/closing_domestic_prices.py
      hash: md5
      md5: 7bb2dfb576e7aed0641e71a82e339f3c
      size: 6215
    outs:
    - path: data/processed/ordinary/ord_close_to_usd_adr_PX_LAST_adjust_all.csv
      hash: md5
      md5: 98713cd5fb2b78fc6b15f6f1631f202f
      size: 1414874
    - path: data/processed/ordinary/ord_close_to_usd_adr_PX_LAST_adjust_none.csv
      hash: md5
      md5: 772ad9d0a628c6e893eef191fcc324d3
      size: 1320997
  download_adr_close:
    cmd: python src/download_bbg_daily.py data/raw/adr_info.csv 
      data/raw/adrs/adr_PX_LAST_adjust_none.csv --tickers_columns=adr 
      --field=PX_LAST
    deps:
    - path: data/raw/adr_info.csv
      hash: md5
      md5: ada6c7be10af41c13259fba16e2871b7
      size: 9873
    - path: src/download_bbg_daily.py
      hash: md5
      md5: f2284d47f57e603dd007bd5220f0befd
      size: 2751
    params:
      params.yaml:
        end_date: '2025-12-16'
        start_date: '2018-05-01'
    outs:
    - path: data/raw/adrs/adr_PX_LAST_adjust_none.csv
      hash: md5
      md5: 6d253be9a7e6dff98360e5e3186b88a6
      size: 617152
  adr_adjustments:
    cmd: python src/get_adjustments.py data/raw/adrs/adr_PX_LAST_adjust_none.csv
      data/processed/adrs/adr_adjustment_factors.csv --symbol_suffix=" US 
      Equity"
    deps:
    - path: data/raw/adrs/adr_PX_LAST_adjust_none.csv
      hash: md5
      md5: 6d253be9a7e6dff98360e5e3186b88a6
      size: 617152
    - path: src/get_adjustments.py
      hash: md5
      md5: 68ed05c2f22665e85f1319021dd057fe
      size: 4260
    outs:
    - path: data/processed/adrs/adr_adjustment_factors.csv
      hash: md5
      md5: 3e4ddabd1c5fcb444f439509a47c112c
      size: 131429
  download_etf_close:
    cmd: python src/download_bbg_daily.py data/raw/adr_info.csv 
      data/raw/etfs/etf_PX_LAST_adjust_none.csv 
      --tickers_columns=market_etf_hedge --symbol_suffix=" US Equity"
    deps:
    - path: data/raw/adr_info.csv
      hash: md5
      md5: b45a6f5e94c5a9cf1494f8bcbd1e5f0f
      size: 4598
    - path: src/download_bbg_daily.py
      hash: md5
      md5: 9aae6958fad6eec297aa9f6943da5a94
      size: 2348
    params:
      params.yaml:
        download.end_date: '2025-06-30'
        download.start_date: '2025-06-01'
    outs:
    - path: data/raw/etfs/etf_PX_LAST_adjust_none.csv
      hash: md5
      md5: 5ea8396952149f3bc08eb31b5c77e0d4
      size: 343
  etf_adjustments:
    cmd: python src/get_adjustments.py data/raw/etfs/etf_PX_LAST_adjust_none.csv
      data/processed/etfs/etf_adjustment_factors.csv --symbol_suffix=" US 
      Equity"
    deps:
    - path: data/raw/etfs/etf_PX_LAST_adjust_none.csv
      hash: md5
      md5: 5ea8396952149f3bc08eb31b5c77e0d4
      size: 343
    - path: src/get_adjustments.py
      hash: md5
      md5: 68ed05c2f22665e85f1319021dd057fe
      size: 4260
    outs:
    - path: data/processed/etfs/etf_adjustment_factors.csv
      hash: md5
      md5: 7cf8afa31500d0dbb0fdb1ac0130259e
      size: 272
  adr_mid_at_ordinary_auction:
    cmd: python src/adr_mid_at_ordinary_auction.py
    deps:
    - path: data/processed/adrs/adr_adjustment_factors.csv
      hash: md5
      md5: 3e4ddabd1c5fcb444f439509a47c112c
      size: 131429
    - path: data/raw/adr_info.csv
      hash: md5
      md5: ada6c7be10af41c13259fba16e2871b7
      size: 9873
    - path: data/raw/adrs/adr_PX_LAST_adjust_none.csv
      hash: md5
      md5: 6d253be9a7e6dff98360e5e3186b88a6
      size: 617152
    - path: data/raw/adrs/bbo-1m/nbbo
      hash: md5
      md5: 45b2ff9e92b4bf6c2efded0dc135a994.dir
      size: 2748995934
      nfiles: 54
    - path: src/adr_mid_at_ordinary_auction.py
      hash: md5
      md5: e4063301d455b60415eb27800318cbf2
      size: 11714
    params:
      params.yaml:
        end_date: '2025-12-16'
        start_date: '2018-05-01'
    outs:
    - path: data/processed/adrs/adr_mid_at_ord_auction_adjust_all.csv
      hash: md5
      md5: e69d5ec573318ac9fb9cbf9bf7160db7
      size: 1416853
    - path: data/processed/adrs/adr_mid_at_ord_auction_adjust_none.csv
      hash: md5
      md5: 026c46365031fd6ef76f5bda7ad62444
      size: 825410
  usd_index_futures:
    cmd: python src/usd_index_futures.py
    deps:
    - path: data/raw/currencies/minute_bars/EURUSD_full_1min.txt
      hash: md5
      md5: e96553658e4514bc6ac0160528b64f3f
      size: 320135929
    - path: data/raw/currencies/minute_bars/GBPUSD_full_1min.txt
      hash: md5
      md5: dca33902789f603b15aa8471774c736b
      size: 319715409
    - path: data/raw/currencies/minute_bars/JPYUSD_full_1min.txt
      hash: md5
      md5: 6613d2c5a8f6f3693ec4097679f35444
      size: 620495691
    - path: 
        data/raw/futures/minute_bars/FCE_full_1min_continuous_ratio_adjusted.txt
      hash: md5
      md5: b91d59797e037215d169a0d9eae31acf
      size: 180215123
    - path: 
        data/raw/futures/minute_bars/FDAX_full_1min_continuous_ratio_adjusted.txt
      hash: md5
      md5: 8e9ad73aec559f344d2a094f2fcc9dc3
      size: 234789793
    - path: 
        data/raw/futures/minute_bars/FESX_full_1min_continuous_ratio_adjusted.txt
      hash: md5
      md5: e7979fd8c9fb8067da4fcd7d18d19d12
      size: 226580627
    - path: 
        data/raw/futures/minute_bars/FTI_full_1min_continuous_ratio_adjusted.txt
      hash: md5
      md5: 6bf29eb56e11896f8975063a2885a494
      size: 144573220
    - path: 
        data/raw/futures/minute_bars/FTUK_full_1min_continuous_ratio_adjusted.txt
      hash: md5
      md5: 9d59296eef79f17242e30c250f394d62
      size: 215566605
    - path: 
        data/raw/futures/minute_bars/FXXP_full_1min_continuous_ratio_adjusted.txt
      hash: md5
      md5: 43e5759f5a30b7340e9c90f81e011300
      size: 86394343
    - path: 
        data/raw/futures/minute_bars/NIY_full_1min_continuous_ratio_adjusted.txt
      hash: md5
      md5: 678428806bafe192f55e47346bbc497c
      size: 209997087
    - path: src/usd_index_futures.py
      hash: md5
      md5: d9fca0f2badefac808bbffcba9dcc853
      size: 4650
    outs:
    - path: 
        data/processed/futures/converted_minute_bars/symbol=FCE/FCE_close_to_usd_1min.parquet
      hash: md5
      md5: 5981717d29827ce46bbd0ae29dbd6a66
      size: 88851163
    - path: 
        data/processed/futures/converted_minute_bars/symbol=FDAX/FDAX_close_to_usd_1min.parquet
      hash: md5
      md5: 40f4f8e8b6ec01fb05d014545cd31dcc
      size: 109618905
    - path: 
        data/processed/futures/converted_minute_bars/symbol=FESX/FESX_close_to_usd_1min.parquet
      hash: md5
      md5: 147a4bc4bd0b9fbf390af871a2a2a41d
      size: 106938587
    - path: 
        data/processed/futures/converted_minute_bars/symbol=FTI/FTI_close_to_usd_1min.parquet
      hash: md5
      md5: f0511e5af8cea2bcd972683d8481f13c
      size: 74465656
    - path: 
        data/processed/futures/converted_minute_bars/symbol=FTUK/FTUK_close_to_usd_1min.parquet
      hash: md5
      md5: 8608ef4c362136a868bd2fb13a2cc571
      size: 109545730
    - path: 
        data/processed/futures/converted_minute_bars/symbol=FXXP/FXXP_close_to_usd_1min.parquet
      hash: md5
      md5: 83047cd3a316ca016df7f38debc02d9a
      size: 43610158
    - path: 
        data/processed/futures/converted_minute_bars/symbol=NIY/NIY_close_to_usd_1min.parquet
      hash: md5
      md5: a8ba1840f87beae5559386f0bbd107f8
      size: 134913995
  download_adr_bbo-1m:
    cmd: python -m data_tools.cli.batch_download_to_parquet_with_append 
      --schema=bbo-1m --datasets XNYS.PILLAR XNAS.ITCH ARCX.PILLAR 
      --tickers=data/raw/adr_info.csv --tickers_columns=adr 
      --output_dir=data/raw/adrs/bbo-1m/by_exchange --start_date=2018-05-01 
      --end_date=2025-12-16 --partition_period=none
    deps:
    - path: data/raw/adr_info.csv
      hash: md5
      md5: ada6c7be10af41c13259fba16e2871b7
      size: 9873
    params:
      params.yaml:
        end_date: '2025-12-16'
        start_date: '2018-05-01'
    outs:
    - path: data/raw/adrs/bbo-1m/by_exchange
      hash: md5
      md5: 77a0ab0c4f52c3ea3c92d942fcf7737e.dir
      size: 4447825362
      nfiles: 174
  create_nbbo_adr_bbo-1m:
    cmd: python -m data_tools.cli.nbbo_consolidate_bbo_1m 
      --tickers=data/raw/adr_info.csv --tickers_columns=adr 
      --raw_data_dir=data/raw/adrs/bbo-1m/by_exchange 
      --output_dir=data/raw/adrs/bbo-1m/nbbo --parallel --ncores=10 
      --partition_period=none
    deps:
    - path: data/raw/adr_info.csv
      hash: md5
      md5: ada6c7be10af41c13259fba16e2871b7
      size: 9873
    - path: data/raw/adrs/bbo-1m/by_exchange
      hash: md5
      md5: 77a0ab0c4f52c3ea3c92d942fcf7737e.dir
      size: 4447825362
      nfiles: 174
    outs:
    - path: data/raw/adrs/bbo-1m/nbbo
      hash: md5
      md5: 45b2ff9e92b4bf6c2efded0dc135a994.dir
      size: 2748995934
      nfiles: 54
  download_index_close:
    cmd: python src/download_bbg_daily.py data/raw/futures_symbols.csv 
      data/raw/indices/indices_PX_LAST.csv --tickers_columns=index 
      --symbol_suffix=" Index" --pad_lookback=280 --field=PX_LAST
    deps:
    - path: data/raw/adr_info.csv
      hash: md5
      md5: ada6c7be10af41c13259fba16e2871b7
      size: 9873
    - path: src/download_bbg_daily.py
      hash: md5
      md5: f2284d47f57e603dd007bd5220f0befd
      size: 2751
    params:
      params.yaml:
        end_date: '2025-12-16'
        pred.lookback_days: 280
        start_date: '2018-05-01'
    outs:
    - path: data/raw/indices/indices_PX_LAST.csv
      hash: md5
      md5: bb227c95e04906a5c2221b41aadc7915
      size: 142328
  split_adj_download_ord_close:
    cmd: python src/download_bbg_daily.py data/raw/adr_info.csv 
      data/raw/ordinary/ord_PX_LAST_adjust_split.csv --tickers_columns=id 
      --include_suffix --adjust=split --pad_lookback=280 --field=PX_LAST
    deps:
    - path: data/raw/adr_info.csv
      hash: md5
      md5: ada6c7be10af41c13259fba16e2871b7
      size: 9873
    - path: src/download_bbg_daily.py
      hash: md5
      md5: f2284d47f57e603dd007bd5220f0befd
      size: 2751
    params:
      params.yaml:
        end_date: '2025-12-16'
        start_date: '2018-05-01'
    outs:
    - path: data/raw/ordinary/ord_PX_LAST_adjust_split.csv
      hash: md5
      md5: 9bc0b79992d1312635d03119795f033c
      size: 783391
  download_market_etf_close:
    cmd: python src/download_bbg_daily.py data/raw/adr_info.csv 
      data/raw/etfs/market/market_etf_PX_LAST_adjust_none.csv 
      --tickers_columns=market_etf_hedge --symbol_suffix=" US Equity" 
      --field=PX_LAST
    deps:
    - path: data/raw/adr_info.csv
      hash: md5
      md5: ada6c7be10af41c13259fba16e2871b7
      size: 9873
    - path: src/download_bbg_daily.py
      hash: md5
      md5: f2284d47f57e603dd007bd5220f0befd
      size: 2751
    params:
      params.yaml:
        end_date: '2025-12-16'
        start_date: '2018-05-01'
    outs:
    - path: data/raw/etfs/market/market_etf_PX_LAST_adjust_none.csv
      hash: md5
      md5: 60ff5f6ba44f0d2a37d2fde053c6bb94
      size: 66431
  download_sector_etf_close:
    cmd: python src/download_bbg_daily.py data/raw/sector_etfs.csv 
      data/raw/etfs/sector_etf_PX_LAST_adjust_none.csv --tickers_columns=hedge 
      --symbol_suffix=" US Equity"
    deps:
    - path: data/raw/sector_etfs.csv
      hash: md5
      md5: 02c63679f3fe993ff61186cb5efa03e6
      size: 176
    - path: src/download_bbg_daily.py
      hash: md5
      md5: 2fc3bd45bc1c3820d1826a96e56057a7
      size: 2765
    params:
      params.yaml:
        end_date: '2025-11-07'
        start_date: '2020-01-02'
    outs:
    - path: data/raw/etfs/sector_etf_PX_LAST_adjust_none.csv
      hash: md5
      md5: 41483aee10b1d681eb89acee0292574e
      size: 96909
  download_market_etf_bbo-1m:
    cmd: python -m data_tools.cli.batch_download_to_parquet_with_append 
      --schema=bbo-1m --datasets XNYS.PILLAR XNAS.ITCH ARCX.PILLAR 
      --tickers=data/raw/adr_info.csv --tickers_columns=market_etf_hedge 
      --output_dir=data/raw/etfs/market/bbo-1m/by_exchange 
      --start_date=2018-05-01 --end_date=2025-12-16 --partition_period=none
    deps:
    - path: data/raw/adr_info.csv
      hash: md5
      md5: ada6c7be10af41c13259fba16e2871b7
      size: 9873
    params:
      params.yaml:
        end_date: '2025-12-16'
        start_date: '2018-05-01'
    outs:
    - path: data/raw/etfs/market/bbo-1m/by_exchange
      hash: md5
      md5: 6c64e694698845ff075fb3fe44e74316.dir
      size: 309136085
      nfiles: 12
  download_sector_etf_bbo-1m:
    cmd: python -m data_tools.cli.batch_download_to_parquet_with_append 
      --schema=bbo-1m --datasets XNYS.PILLAR XNAS.ITCH ARCX.PILLAR 
      --tickers=data/raw/sector_etfs.csv --tickers_columns=hedge 
      --output_dir=data/raw/etfs/sector/bbo-1m/by_exchange 
      --start_date=2018-05-01 --end_date=2025-12-09 --partition_period=none
    deps:
    - path: data/raw/sector_etfs.csv
      hash: md5
      md5: 02c63679f3fe993ff61186cb5efa03e6
      size: 176
    params:
      params.yaml:
        end_date: '2025-12-09'
        start_date: '2018-05-01'
    outs:
    - path: data/raw/etfs/sector/bbo-1m/by_exchange
      hash: md5
      md5: 40978ac12160fa6fbfb6b4a6710ec554.dir
      size: 895985866
      nfiles: 39
  create_nbbo_market_etf_bbo-1m:
    cmd: python -m data_tools.cli.nbbo_consolidate_bbo_1m 
      --tickers=data/raw/adr_info.csv --tickers_columns=market_etf_hedge 
      --raw_data_dir=data/raw/etfs/market/bbo-1m/by_exchange 
      --output_dir=data/raw/etfs/market/bbo-1m/nbbo --parallel --ncores=10 
      --partition_period=none
    deps:
    - path: data/raw/etfs/market/bbo-1m/by_exchange
      hash: md5
      md5: 6c64e694698845ff075fb3fe44e74316.dir
      size: 309136085
      nfiles: 12
    outs:
    - path: data/raw/etfs/market/bbo-1m/nbbo
      hash: md5
      md5: 5401888aa29ff5f246dfe1d944dd8449.dir
      size: 183487801
      nfiles: 4
  download_adr_turnover:
    cmd: python src/download_bbg_daily.py data/raw/adr_info.csv 
      data/raw/adrs/adr_turnover.csv --tickers_columns=adr --field=TURNOVER
    deps:
    - path: data/raw/adr_info.csv
      hash: md5
      md5: ada6c7be10af41c13259fba16e2871b7
      size: 9873
    - path: src/download_bbg_daily.py
      hash: md5
      md5: f2284d47f57e603dd007bd5220f0befd
      size: 2751
    params:
      params.yaml:
        end_date: '2025-12-16'
        start_date: '2018-05-01'
    outs:
    - path: data/raw/adrs/adr_turnover.csv
      hash: md5
      md5: 5a2e6fbfec55686c229540ff32ff1ab7
      size: 1151983
  usdjpy_to_jpyusd:
    cmd: python src/usdjpy_to_jpyusd_bars.py
    deps:
    - path: data/raw/currencies/minute_bars/USDJPY_full_1min.txt
      hash: md5
      md5: ed2caa5e8f6f1245d55f2ee5352fbc28
      size: 316300187
    - path: src/usdjpy_to_jpyusd_bars.py
      hash: md5
      md5: a7a414fd0cf3abfb0ceff6b669260d4c
      size: 700
    outs:
    - path: data/raw/currencies/minute_bars/JPYUSD_full_1min.txt
      hash: md5
      md5: 6613d2c5a8f6f3693ec4097679f35444
      size: 620495691
  adr_daily_fixed_time_mid:
    cmd: python -m src.daily_fixed_time_mid --nbbo_dir=data/raw/adrs/bbo-1m/nbbo
      --time_to_save_hrs=14 --time_to_save_min=0 --tickers=data/raw/adr_info.csv
      --tickers_columns=adr 
      --output_filename=data/processed/adrs/adr_daily_fixed_time_mid.csv
    deps:
    - path: data/raw/adr_info.csv
      hash: md5
      md5: 60ae37166a718e554685a637b1dbbf4e
      size: 7129
    - path: data/raw/adrs/bbo-1m/nbbo
      hash: md5
      md5: 09a2cc68758f56d1762b2596884cd47a.dir
      size: 1667949302
      nfiles: 39
    - path: src/daily_fixed_time_mid.py
      hash: md5
      md5: a1574959d30d9e3f0ff7c4d33faa73b6
      size: 3377
    params:
      params.yaml:
        fixed_trade_time_hours: 14
        fixed_trade_time_min: 0
    outs:
    - path: data/processed/adrs/adr_daily_fixed_time_mid.csv
      hash: md5
      md5: 8dc56fcfa90b913b7b01f91494f71be5
      size: 555998
  market_etf_daily_fixed_time_mid:
    cmd: python -m src.daily_fixed_time_mid 
      --nbbo_dir=data/raw/etfs/market/bbo-1m/nbbo --time_to_save_hrs=14 
      --time_to_save_min=30 --tickers=data/raw/adr_info.csv 
      --tickers_columns=market_etf_hedge 
      --output_filename=data/processed/etfs/market/market_etf_daily_fixed_time_mid.csv
    deps:
    - path: data/raw/adr_info.csv
      hash: md5
      md5: ada6c7be10af41c13259fba16e2871b7
      size: 9873
    - path: data/raw/etfs/market/bbo-1m/nbbo
      hash: md5
      md5: 5401888aa29ff5f246dfe1d944dd8449.dir
      size: 183487801
      nfiles: 4
    - path: src/daily_fixed_time_mid.py
      hash: md5
      md5: ae359c51107e4c02e0dab203191b80bb
      size: 3658
    params:
      params.yaml:
        fixed_trade_time_hours: 14
        fixed_trade_time_min: 30
    outs:
    - path: data/processed/etfs/market/market_etf_daily_fixed_time_mid.csv
      hash: md5
      md5: acee6c44d2dab5bcb9704cf52ee44aed
      size: 100338
  index_only_model:
    cmd: python src/get_betas_no_sector.py
    deps:
    - path: data/raw/adr_info.csv
      hash: md5
      md5: ada6c7be10af41c13259fba16e2871b7
      size: 9873
    - path: data/raw/futures_symbols.csv
      hash: md5
      md5: 931025870a8050169bb7e760c02b06c4
      size: 168
    - path: data/raw/indices/indices_PX_LAST.csv
      hash: md5
      md5: bb227c95e04906a5c2221b41aadc7915
      size: 142328
    - path: data/raw/ordinary/ord_PX_LAST_adjust_split.csv
      hash: md5
      md5: 9bc0b79992d1312635d03119795f033c
      size: 783391
    - path: src/get_betas_no_sector.py
      hash: md5
      md5: 4b27d950313d5e1ad6e94b8802924640
      size: 6419
    params:
      params.yaml:
        pred.lookback_days: 280
    outs:
    - path: data/processed/models/ordinary_betas_index_only.csv
      hash: md5
      md5: 3fce0d41a5efd9092210303e0ae09b26
      size: 2028030
  fixed_time_signal:
    cmd: python src/from_full_futures_fixed_time_signal.py
    deps:
    - path: data/processed/adrs/adr_daily_fixed_time_mid.csv
      hash: md5
      md5: 2ee41ff810c69f19b4c35ee2f46ebd35
      size: 972233
    - path: data/processed/adrs/adr_mid_at_ord_auction_adjust_none.csv
      hash: md5
      md5: 026c46365031fd6ef76f5bda7ad62444
      size: 825410
    - path: data/processed/futures/converted_minute_bars
      hash: md5
      md5: 5aec63e513c7a4a65847ba6be1a159fd.dir
      size: 667944194
      nfiles: 7
    - path: data/processed/futures_only_signal/
      hash: md5
      md5: c1b51d804729a6ba930017368618acfa.dir
      size: 430211529
      nfiles: 54
    - path: data/processed/models/ordinary_betas_index_only.csv
      hash: md5
      md5: 3fce0d41a5efd9092210303e0ae09b26
      size: 2028030
    - path: data/raw/adr_info.csv
      hash: md5
      md5: ada6c7be10af41c13259fba16e2871b7
      size: 9873
    - path: data/raw/futures_symbols.csv
      hash: md5
      md5: 931025870a8050169bb7e760c02b06c4
      size: 168
    - path: src/from_full_futures_fixed_time_signal.py
      hash: md5
      md5: d8bb63aabcc866ba0f3b0e535d037eb7
      size: 1256
    params:
      params.yaml:
        end_date: '2025-12-16'
        fixed_trade_time_hours: 14
        fixed_trade_time_min: 30
        start_date: '2018-05-01'
    outs:
    - path: data/processed/fixed_time_signal.csv
      hash: md5
      md5: aa1cfcf13b0182c15b85de4d69fa6053
      size: 2095273
  stock_splits:
    cmd: python -m src.get_splits
    deps:
    - path: data/raw/adr_info.csv
      hash: md5
      md5: ada6c7be10af41c13259fba16e2871b7
      size: 9873
    - path: data/raw/sector_etfs.csv
      hash: md5
      md5: 02c63679f3fe993ff61186cb5efa03e6
      size: 176
    - path: src/get_splits.py
      hash: md5
      md5: ed87ad44d0870fcfa24b5f67b5589aea
      size: 984
    outs:
    - path: data/raw/all_splits.csv
      hash: md5
      md5: e271a937d3806c714d44cea94a51e797
      size: 15412
  backtest_fixed_time:
    cmd: backtester_run backtest_conifgs/single_time.yaml
    deps:
    - path: backtest_conifgs/single_time.yaml
      hash: md5
      md5: 49466e3872b15a388732ac72216bfa03
      size: 2066
    - path: data/processed/adrs/
      hash: md5
      md5: 311662b83e3102fe4c83419126b2c419.dir
      size: 2139254
      nfiles: 5
    - path: data/processed/adrs/adr_daily_fixed_time_mid.csv
      hash: md5
      md5: e6562a4cb193d3992ceb7210bbb998e9
      size: 555497
    - path: data/processed/fixed_time_signal.csv
      hash: md5
      md5: e1a9e1a1849b1fd1662d94875763b795
      size: 1199372
    - path: data/raw/adrs/adr_PX_LAST_adjust_none.csv
      hash: md5
      md5: fc29d83e496f6d65bb84154b70673728
      size: 347079
    - path: data/raw/adrs/adr_turnover.csv
      hash: md5
      md5: e268e9529e3b0b1b0f6e1e7d71c064df
      size: 649183
    - path: data/raw/all_splits.csv
      hash: md5
      md5: de2e3f54e301c807e06f8798728bd0f9
      size: 11565
    - path: src/backtest_strategies/single_time_ADR.py
      hash: md5
      md5: 39629de5654368a53e0c225e52805a90
      size: 8005
  all_gbp_eur_backtest_fixed_time:
    cmd: backtester_run backtest_conifgs/all_gbp_eur_single_time.yaml
    deps:
    - path: backtest_conifgs/all_gbp_eur_single_time.yaml
      hash: md5
      md5: 1b34a9a22fbcf3118601fcfdde5c99e1
      size: 2148
    - path: data/processed/adrs/adr_daily_fixed_time_mid.csv
      hash: md5
      md5: 8dc56fcfa90b913b7b01f91494f71be5
      size: 555998
    - path: data/processed/fixed_time_signal.csv
      hash: md5
      md5: 9661917e2dc6a1638f70f76c67794429
      size: 1195509
    - path: data/raw/adrs/adr_PX_LAST_adjust_none.csv
      hash: md5
      md5: fc29d83e496f6d65bb84154b70673728
      size: 347079
    - path: data/raw/adrs/adr_turnover.csv
      hash: md5
      md5: e268e9529e3b0b1b0f6e1e7d71c064df
      size: 649183
    - path: data/raw/all_splits.csv
      hash: md5
      md5: de2e3f54e301c807e06f8798728bd0f9
      size: 11565
    - path: src/backtest_strategies/single_time_ADR.py
      hash: md5
      md5: c2defcb736408e0e1d1765d407fa9783
      size: 8113
  only_futures_full_signal:
    cmd: python src/only_futures_full_signal.py
    deps:
    - path: data/processed/adrs/adr_mid_at_ord_auction_adjust_none.csv
      hash: md5
      md5: 026c46365031fd6ef76f5bda7ad62444
      size: 825410
    - path: data/processed/adrs/adr_open_mean_premium.csv
      hash: md5
      md5: 2bfbb6322ad6ebc5aa46b288d82e614a
      size: 2076425
    - path: data/processed/futures/converted_minute_bars
      hash: md5
      md5: 5aec63e513c7a4a65847ba6be1a159fd.dir
      size: 667944194
      nfiles: 7
    - path: data/processed/models/ordinary_betas_index_only.csv
      hash: md5
      md5: 3fce0d41a5efd9092210303e0ae09b26
      size: 2028030
    - path: data/processed/ordinary/ord_close_to_usd_adr_PX_LAST_adjust_none.csv
      hash: md5
      md5: 772ad9d0a628c6e893eef191fcc324d3
      size: 1320997
    - path: data/raw/adr_info.csv
      hash: md5
      md5: ada6c7be10af41c13259fba16e2871b7
      size: 9873
    - path: data/raw/adrs/bbo-1m/nbbo
      hash: md5
      md5: 45b2ff9e92b4bf6c2efded0dc135a994.dir
      size: 2748995934
      nfiles: 54
    - path: data/raw/futures_symbols.csv
      hash: md5
      md5: 931025870a8050169bb7e760c02b06c4
      size: 168
    - path: src/only_futures_full_signal.py
      hash: md5
      md5: ab312251c9787eb33223ddcb16b251b5
      size: 9678
    params:
      params.yaml:
        end_date: '2025-12-16'
        fixed_trade_time_hours: 14
        fixed_trade_time_min: 30
        start_date: '2018-05-01'
    outs:
    - path: data/processed/futures_only_signal/
      hash: md5
      md5: c1b51d804729a6ba930017368618acfa.dir
      size: 430211529
      nfiles: 54
  download_adr_tcbbo:
    cmd: python -m data_tools.cli.batch_download_to_parquet_with_append 
      --schema=tcbbo --datasets XNAS.BASIC --tickers=data/raw/adr_info.csv 
      --tickers_columns=adr --output_dir=data/raw/adrs/tcbbo 
      --start_date=2024-07-01 --end_date=2025-11-07 --partition_period=date
    deps:
    - path: data/raw/adr_info.csv
      hash: md5
      md5: 994b7a62c12e77d91857211c913e7633
      size: 7129
    params:
      params.yaml:
        end_date: '2025-11-07'
        start_date: '2020-01-02'
    outs:
    - path: data/raw/adrs/tcbbo
      hash: md5
      md5: 6f3d25ca55d2e603d7a838c3a0a76e37.dir
      size: 4663555405
      nfiles: 16371
  download_adr_open:
    cmd: python src/download_bbg_daily.py data/raw/adr_info.csv 
      data/raw/adrs/adr_PX_OPEN_adjust_none.csv --tickers_columns=adr 
      --field=PX_OPEN
    deps:
    - path: data/raw/adr_info.csv
      hash: md5
      md5: e58059186f25bd79b77431e97cee59d7
      size: 8198
    - path: src/download_bbg_daily.py
      hash: md5
      md5: 1c74fab7714cda16835f3fd8d969c9b1
      size: 2746
    params:
      params.yaml:
        end_date: '2025-12-09'
        start_date: '2018-05-01'
    outs:
    - path: data/raw/adrs/adr_PX_OPEN_adjust_none.csv
      hash: md5
      md5: 4bac0f529942cd95cb38b39334885f31
      size: 516502
  adj_adr_close:
    cmd: python src/download_bbg_daily.py data/raw/adr_info.csv 
      data/raw/adrs/adr_PX_LAST_adjust_all.csv --tickers_columns=adr 
      --adjust=all --pad_lookback=280 --field=PX_LAST
    deps:
    - path: data/raw/adr_info.csv
      hash: md5
      md5: ada6c7be10af41c13259fba16e2871b7
      size: 9873
    - path: src/download_bbg_daily.py
      hash: md5
      md5: f2284d47f57e603dd007bd5220f0befd
      size: 2751
    params:
      params.yaml:
        end_date: '2025-12-16'
        start_date: '2018-05-01'
    outs:
    - path: data/raw/adrs/adr_PX_LAST_adjust_all.csv
      hash: md5
      md5: 3b1d0b61889c78249ae55968a00cbac4
      size: 876096
  adj_market_etf_close:
    cmd: python src/download_bbg_daily.py data/raw/adr_info.csv 
      data/raw/etfs/market/market_etf_PX_LAST_adjust_all.csv 
      --tickers_columns=market_etf_hedge --symbol_suffix=" US Equity" 
      --adjust=all --pad_lookback=280 --field=PX_LAST
    deps:
    - path: data/raw/adr_info.csv
      hash: md5
      md5: ada6c7be10af41c13259fba16e2871b7
      size: 9873
    - path: src/download_bbg_daily.py
      hash: md5
      md5: f2284d47f57e603dd007bd5220f0befd
      size: 2751
    params:
      params.yaml:
        end_date: '2025-12-16'
        start_date: '2018-05-01'
    outs:
    - path: data/raw/etfs/market/market_etf_PX_LAST_adjust_all.csv
      hash: md5
      md5: df3d79841ee2a636aa658221a05dc2b6
      size: 89806
  market_etf_hedge_ratios:
    cmd: python src/market_etf_hedge_ratios.py
    deps:
    - path: data/raw/adr_info.csv
      hash: md5
      md5: ada6c7be10af41c13259fba16e2871b7
      size: 9873
    - path: data/raw/adrs/adr_PX_LAST_adjust_all.csv
      hash: md5
      md5: 3b1d0b61889c78249ae55968a00cbac4
      size: 876096
    - path: data/raw/etfs/market/market_etf_PX_LAST_adjust_all.csv
      hash: md5
      md5: df3d79841ee2a636aa658221a05dc2b6
      size: 89806
    - path: src/market_etf_hedge_ratios.py
      hash: md5
      md5: c437c03755a0cfe5739d31e8612fc09c
      size: 2431
    outs:
    - path: data/processed/market_etf_hedge_ratios.csv
      hash: md5
      md5: 8feeed1654d44358deec06923b0e128d
      size: 1863714
  adr_daily_mid:
    cmd: python -m src.daily_fixed_time_mid --nbbo_dir=data/raw/adrs/bbo-1m/nbbo
      --time_to_save_hrs=14 --time_to_save_min=30 
      --tickers=data/raw/adr_info.csv --tickers_columns=adr 
      --output_filename=data/processed/adrs/adr_daily_fixed_time_mid.csv
    deps:
    - path: data/raw/adr_info.csv
      hash: md5
      md5: ada6c7be10af41c13259fba16e2871b7
      size: 9873
    - path: data/raw/adrs/bbo-1m/nbbo
      hash: md5
      md5: 45b2ff9e92b4bf6c2efded0dc135a994.dir
      size: 2748995934
      nfiles: 54
    - path: src/daily_fixed_time_mid.py
      hash: md5
      md5: ae359c51107e4c02e0dab203191b80bb
      size: 3658
    params:
      params.yaml:
        fixed_trade_time_hours: 14
        fixed_trade_time_min: 30
    outs:
    - path: data/processed/adrs/adr_daily_fixed_time_mid.csv
      hash: md5
      md5: 2ee41ff810c69f19b4c35ee2f46ebd35
      size: 972233
  hedged_backtest_fixed_time:
    cmd: backtester_run backtest_conifgs/hedged_single_time.yaml
    deps:
    - path: backtest_conifgs/hedged_single_time.yaml
      hash: md5
      md5: 049691db2677cd80e74b0e50bee2efe0
      size: 3048
    - path: data/processed/adrs/adr_daily_fixed_time_mid.csv
      hash: md5
      md5: 2ee41ff810c69f19b4c35ee2f46ebd35
      size: 972233
    - path: data/processed/etfs/market/market_etf_daily_fixed_time_mid.csv
      hash: md5
      md5: acee6c44d2dab5bcb9704cf52ee44aed
      size: 100338
    - path: data/processed/fixed_time_signal.csv
      hash: md5
      md5: aa1cfcf13b0182c15b85de4d69fa6053
      size: 2095273
    - path: data/processed/market_etf_hedge_ratios.csv
      hash: md5
      md5: 8feeed1654d44358deec06923b0e128d
      size: 1863714
    - path: data/raw/adrs/adr_PX_LAST_adjust_none.csv
      hash: md5
      md5: 6d253be9a7e6dff98360e5e3186b88a6
      size: 617152
    - path: data/raw/adrs/adr_turnover.csv
      hash: md5
      md5: 5a2e6fbfec55686c229540ff32ff1ab7
      size: 1151983
    - path: data/raw/all_splits.csv
      hash: md5
      md5: e271a937d3806c714d44cea94a51e797
      size: 15412
    - path: data/raw/etfs/market/market_etf_PX_LAST_adjust_none.csv
      hash: md5
      md5: 60ff5f6ba44f0d2a37d2fde053c6bb94
      size: 66431
    - path: src/backtest_strategies/single_time_ADR.py
      hash: md5
      md5: 07aa1746b1814802ac6e10865c600228
      size: 8138
  minute_vwap_hedged_ADR_backtest:
    cmd: backtester_run backtest_conifgs/minute_vwap_hedged_ADR.yaml
    deps:
    - path: backtest_conifgs/minute_vwap_hedged_ADR.yaml
      hash: md5
      md5: e236c6d61fced5cc30c2ef75ccdc513c
      size: 3165
    - path: data/processed/adrs/adr_daily_fixed_time_mid.csv
      hash: md5
      md5: cfb1c2febb6117910364e2d611b3ec75
      size: 555497
    - path: data/processed/etfs/market/market_etf_daily_fixed_time_mid.csv
      hash: md5
      md5: a4bce7a9cae8e608573a19fa57de014f
      size: 46590
    - path: data/processed/fixed_time_signal.csv
      hash: md5
      md5: a5fded42bbac921ae017e5c4d7d92879
      size: 1199367
    - path: data/processed/market_etf_hedge_ratios.csv
      hash: md5
      md5: 7f7b51dc82d32f0e80ec5604826ae2b3
      size: 1018884
    - path: data/raw/adrs/adr_PX_LAST_adjust_none.csv
      hash: md5
      md5: a41599a2c1970259d8131e2665c1fa42
      size: 347020
    - path: data/raw/adrs/adr_turnover.csv
      hash: md5
      md5: d1911eb3f60f5146797e81a3ddaaf91e
      size: 645708
    - path: data/raw/all_splits.csv
      hash: md5
      md5: 973c7f441733bcc0fe6031d4bd492563
      size: 11639
    - path: data/raw/etfs/market/market_etf_PX_LAST_adjust_none.csv
      hash: md5
      md5: 8c405cc4ebe9dcadd0fea00bc3ea4fc2
      size: 33581
    - path: src/backtest_strategies/minute_vwap_hedged_ADR.py
      hash: md5
      md5: 3ba60eaefa26aadf59da331f1ca925e1
      size: 11607
  minute_volume_stats:
    cmd: python src/minute_volume_stats.py
    deps:
    - path: data/raw/adrs/tcbbo/
      hash: md5
      md5: 6f3d25ca55d2e603d7a838c3a0a76e37.dir
      size: 4663555405
      nfiles: 16371
    - path: src/minute_volume_stats.py
      hash: md5
      md5: 6d6e8ea8e6bb96466add10b66c36d7cd
      size: 4756
    params:
      params.yaml:
        avg_dollar_volume_lookback_days: 60
        end_date: '2025-11-07'
        start_date: '2020-01-02'
    outs:
    - path: data/processed/adrs/minute_volume_stats
      hash: md5
      md5: db08306716c0b9512a428ba861642ffe.dir
      size: 248479238
      nfiles: 16371
  download_market_etf_tcbbo:
    cmd: python -m data_tools.cli.batch_download_to_parquet_with_append 
      --schema=tcbbo --datasets XNAS.BASIC --tickers=data/raw/adr_info.csv 
      --tickers_columns=market_etf_hedge --output_dir=data/raw/etfs/market/tcbbo
      --start_date=2024-07-01 --end_date=2025-11-07 --partition_period=date
    deps:
    - path: data/raw/adr_info.csv
      hash: md5
      md5: 994b7a62c12e77d91857211c913e7633
      size: 7129
    params:
      params.yaml:
        end_date: '2025-11-07'
        start_date: '2020-01-02'
    outs:
    - path: data/raw/etfs/market/tcbbo
      hash: md5
      md5: 86f4e19964e01f196db85cc97a62bd39.dir
      size: 86909722
      nfiles: 684
  daily_adr_for_cov:
    cmd: python -m src.daily_fixed_time_mid --nbbo_dir=data/raw/adrs/bbo-1m/nbbo
      --time_to_save_hrs=13 --time_to_save_min=0 --tickers=data/raw/adr_info.csv
      --tickers_columns=adr 
      --output_filename=data/processed/adrs/daily_mid_for_cov.csv
    deps:
    - path: data/raw/adr_info.csv
      hash: md5
      md5: e58059186f25bd79b77431e97cee59d7
      size: 8198
    - path: data/raw/adrs/bbo-1m/nbbo
      hash: md5
      md5: 9f397ab87ae4ac33f301a3ea3cda4454.dir
      size: 2348330608
      nfiles: 45
    - path: src/daily_fixed_time_mid.py
      hash: md5
      md5: ae359c51107e4c02e0dab203191b80bb
      size: 3658
    params:
      params.yaml:
        daily_time_for_cov_hours: 13
        daily_time_for_cov_min: 0
    outs:
    - path: data/processed/adrs/daily_mid_for_cov.csv
      hash: md5
      md5: 50f4f5a641c77aecbb9a858b49d44458
      size: 798792
  create_nbbo_sector_etf_bbo-1m:
    cmd: python -m data_tools.cli.nbbo_consolidate_bbo_1m 
      --tickers=data/raw/sector_etfs.csv --tickers_columns=hedge 
      --raw_data_dir=data/raw/etfs/sector/bbo-1m/by_exchange 
      --output_dir=data/raw/etfs/sector/bbo-1m/nbbo --parallel --ncores=6 
      --partition_period=none
    deps:
    - path: data/raw/etfs/sector/bbo-1m/by_exchange
      hash: md5
      md5: 40978ac12160fa6fbfb6b4a6710ec554.dir
      size: 895985866
      nfiles: 39
    outs:
    - path: data/raw/etfs/sector/bbo-1m/nbbo
      hash: md5
      md5: e245d775bc68111027b2f18f7bad1e25.dir
      size: 333222288
      nfiles: 9
  download_market_etf_open:
    cmd: python src/download_bbg_daily.py data/raw/adr_info.csv 
      data/raw/etfs/market/market_etf_PX_OPEN_adjust_none.csv 
      --tickers_columns=market_etf_hedge --field=PX_OPEN --symbol_suffix=" US 
      Equity"
    deps:
    - path: data/raw/adr_info.csv
      hash: md5
      md5: e58059186f25bd79b77431e97cee59d7
      size: 8198
    - path: src/download_bbg_daily.py
      hash: md5
      md5: f2284d47f57e603dd007bd5220f0befd
      size: 2751
    params:
      params.yaml:
        end_date: '2025-12-09'
        start_date: '2018-05-01'
    outs:
    - path: data/raw/etfs/market/market_etf_PX_OPEN_adjust_none.csv
      hash: md5
      md5: a4df70eda3c57893e75e9d5440d2ac8d
      size: 43646
  earnings:
    cmd: python src/get_earnings.py
    deps:
    - path: data/raw/adr_info.csv
      hash: md5
      md5: e58059186f25bd79b77431e97cee59d7
      size: 8198
    - path: src/get_earnings.py
      hash: md5
      md5: 3d5fc9c40460130a8a4319f61e955726
      size: 479
  convert_ord_currency_open:
    cmd: python -m src.opening_domestic_prices
    deps:
    - path: data/raw/adr_info.csv
      hash: md5
      md5: ada6c7be10af41c13259fba16e2871b7
      size: 9873
    - path: data/raw/adrs/share_reclass.csv
      hash: md5
      md5: 5fab0660d954290fae62234bf6bcfe8d
      size: 761
    - path: data/raw/all_splits.csv
      hash: md5
      md5: e271a937d3806c714d44cea94a51e797
      size: 15412
    - path: data/raw/currencies/minute_bars/AUDUSD_full_1min.txt
      hash: md5
      md5: 618bc88e98117cfc8e9c21b68aeed272
      size: 318601976
    - path: data/raw/currencies/minute_bars/EURUSD_full_1min.txt
      hash: md5
      md5: 14369fd43c972ae42064d207bfe27121
      size: 319666526
    - path: data/raw/currencies/minute_bars/GBPUSD_full_1min.txt
      hash: md5
      md5: b761cb4ebfd4ab676a4b60c89a598673
      size: 319243816
    - path: data/raw/currencies/minute_bars/JPYUSD_full_1min.txt
      hash: md5
      md5: 572f7b3964a2d5a633aff08b4273e5e5
      size: 619586665
    - path: data/raw/ordinary/ord_PX_OPEN_adjust_all.csv
      hash: md5
      md5: 0b16832a0e71100a19cae093c0b4b0b9
      size: 805803
    - path: data/raw/ordinary/ord_PX_OPEN_adjust_none.csv
      hash: md5
      md5: bbfaf4ac568f4bb030ab9a69893ab298
      size: 682247
    - path: src/closing_domestic_prices.py
      hash: md5
      md5: 7bb2dfb576e7aed0641e71a82e339f3c
      size: 6215
    - path: src/opening_domestic_prices.py
      hash: md5
      md5: 74ee4fddab110bd5b16da344dccf74a1
      size: 4094
    outs:
    - path: data/processed/ordinary/ord_open_to_usd_adr_PX_OPEN_adjust_all.csv
      hash: md5
      md5: 2a7dd2f2a257338c90de5efa50dcc86e
      size: 1410781
    - path: data/processed/ordinary/ord_open_to_usd_adr_PX_OPEN_adjust_none.csv
      hash: md5
      md5: 070e7c58d61e0b237734efe1f7b0ff70
      size: 1309416
  download_ord_open:
    cmd: python src/download_bbg_daily.py data/raw/adr_info.csv 
      data/raw/ordinary/ord_PX_OPEN_adjust_none.csv --tickers_columns=id 
      --field=PX_OPEN --include_suffix
    deps:
    - path: data/raw/adr_info.csv
      hash: md5
      md5: ada6c7be10af41c13259fba16e2871b7
      size: 9873
    - path: src/download_bbg_daily.py
      hash: md5
      md5: f2284d47f57e603dd007bd5220f0befd
      size: 2751
    params:
      params.yaml:
        end_date: '2025-12-09'
        start_date: '2018-05-01'
    outs:
    - path: data/raw/ordinary/ord_PX_OPEN_adjust_none.csv
      hash: md5
      md5: bbfaf4ac568f4bb030ab9a69893ab298
      size: 682247
  adj_download_ord_open:
    cmd: python src/download_bbg_daily.py data/raw/adr_info.csv 
      data/raw/ordinary/ord_PX_OPEN_adjust_all.csv --tickers_columns=id 
      --adjust=all --field=PX_OPEN --include_suffix
    deps:
    - path: data/raw/adr_info.csv
      hash: md5
      md5: ada6c7be10af41c13259fba16e2871b7
      size: 9873
    - path: src/download_bbg_daily.py
      hash: md5
      md5: f2284d47f57e603dd007bd5220f0befd
      size: 2751
    params:
      params.yaml:
        end_date: '2025-12-09'
        start_date: '2018-05-01'
    outs:
    - path: data/raw/ordinary/ord_PX_OPEN_adjust_all.csv
      hash: md5
      md5: 0b16832a0e71100a19cae093c0b4b0b9
      size: 805803
  adj_download_adr_open:
    cmd: python src/download_bbg_daily.py data/raw/adr_info.csv 
      data/raw/adrs/adr_PX_OPEN_adjust_all.csv --tickers_columns=adr 
      --field=PX_OPEN --adjust=all
    deps:
    - path: data/raw/adr_info.csv
      hash: md5
      md5: ada6c7be10af41c13259fba16e2871b7
      size: 9873
    - path: src/download_bbg_daily.py
      hash: md5
      md5: f2284d47f57e603dd007bd5220f0befd
      size: 2751
    params:
      params.yaml:
        end_date: '2025-12-09'
        start_date: '2018-05-01'
    outs:
    - path: data/raw/adrs/adr_PX_OPEN_adjust_all.csv
      hash: md5
      md5: 431a08f9861e13de87ea09d5570e71a0
      size: 795100
  adr_open_mid:
    cmd: python -m src.daily_fixed_time_mid --nbbo_dir=data/raw/adrs/bbo-1m/nbbo
      --time_to_save_hrs=9 --time_to_save_min=31 --tickers=data/raw/adr_info.csv
      --tickers_columns=adr 
      --output_filename=data/processed/adrs/adr_open_mid.csv
    deps:
    - path: data/raw/adr_info.csv
      hash: md5
      md5: ada6c7be10af41c13259fba16e2871b7
      size: 9873
    - path: data/raw/adrs/bbo-1m/nbbo
      hash: md5
      md5: 66e1049cac8486b273bd3481140bb440.dir
      size: 2740832391
      nfiles: 54
    - path: src/daily_fixed_time_mid.py
      hash: md5
      md5: ae359c51107e4c02e0dab203191b80bb
      size: 3658
    outs:
    - path: data/processed/adrs/adr_open_mid.csv
      hash: md5
      md5: 594199cfca5422c6036cac59014cccb3
      size: 937340
  adr_open_mean_premium:
    cmd: python -m src.adr_open_mean_prem
    deps:
    - path: data/raw/adr_info.csv
      hash: md5
      md5: ada6c7be10af41c13259fba16e2871b7
      size: 9873
    - path: src/adr_open_mean_prem.py
      hash: md5
      md5: e4842b49209faaaeb1ac40514ebd8646
      size: 908
    params:
      params.yaml:
        avg_premium_lookback_days: 250
    outs:
    - path: data/processed/adrs/adr_open_mean_premium.csv
      hash: md5
      md5: 2bfbb6322ad6ebc5aa46b288d82e614a
      size: 2076425
  download_cme_bbo-1m:
    cmd: python -m data_tools.cli.batch_download_to_parquet_with_append 
      --tickers NIY --datasets GLBX.MDP3 --futures --schema=bbo-1m 
      --start_date=2025-03-10 --end_date=2025-12-18 
      --output_dir=data/raw/futures/bbo-1m/exchange=GLBX.MDP3 
      --partition_period=none
    params:
      params.yaml:
        end_date: '2025-12-16'
        start_date: '2018-05-01'
    outs:
    - path: data/raw/futures/bbo-1m/exchange=GLBX.MDP3
      hash: md5
      md5: 89a60a42e1a6f445772632204566fd15.dir
      size: 14660858
      nfiles: 244
  download_ice_bbo-1m:
    cmd: python -m data_tools.cli.batch_download_to_parquet_with_append 
      --tickers Z --datasets IFLL.IMPACT --futures --schema=bbo-1m 
      --start_date=2025-03-10 --end_date=2025-12-17 
      --output_dir=data/raw/futures/bbo-1m/exchange=IFLL.IMPACT 
      --partition_period=none
    params:
      params.yaml:
        end_date: '2025-12-16'
        start_date: '2018-05-01'
    outs:
    - path: data/raw/futures/bbo-1m/exchange=IFLL.IMPACT
      hash: md5
      md5: c56e1911a8cd1a4700caa58b7266c18e.dir
      size: 14510020
      nfiles: 202
  download_eurex_bbo-1m:
    cmd: python -m data_tools.cli.batch_download_to_parquet_with_append 
      --tickers FESX FESB FXXP FSMI FDAX --datasets XEUR.EOBI --futures 
      --schema=bbo-1m --start_date=2025-03-10 --end_date=2025-12-17 
      --output_dir=data/raw/futures/bbo-1m/exchange=XEUR.EOBI 
      --partition_period=none
    params:
      params.yaml:
        end_date: '2025-12-16'
        start_date: '2018-05-01'
    outs:
    - path: data/raw/futures/bbo-1m/exchange=XEUR.EOBI
      hash: md5
      md5: 24585006ecf8c14617547e98ed8409a9.dir
      size: 61329088
      nfiles: 1004
  daily_futures_volume:
    cmd: python -m src.daily_futures_volume
    deps:
    - path: data/raw/adr_info.csv
      hash: md5
      md5: 8a78d717a64d6265640e77b52208a419
      size: 9897
    - path: data/raw/futures_symbols.csv
      hash: md5
      md5: 4ea6e0efee0533adf23cbece50121e5a
      size: 169
    - path: src/daily_futures_volume.py
      hash: md5
      md5: 7806bdbe29b8042f700f33ff26a1512c
      size: 1140
    params:
      params.yaml:
        end_date: '2025-12-16'
        start_date: '2018-05-01'
    outs:
    - path: data/raw/futures/daily_futures_volume.parquet
      hash: md5
      md5: 974cfe3479a5bb87baba427413c3ecd3
      size: 155094
